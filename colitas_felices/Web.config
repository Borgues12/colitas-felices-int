<?xml version="1.0" encoding="utf-8"?>
<!--
  Para obtener más información sobre cómo configurar la aplicación ASP.NET, visite
  https://go.microsoft.com/fwlink/?LinkId=169433
  -->
<configuration>
	<appSettings>
		<!-- Gmail OAuth2 -->
		<add key="Gmail_ClientId" value="482820015082-17vccit6tjmu84qqo12e1oc6t06de7lb.apps.googleusercontent.com" />
		<add key="Gmail_ClientSecret" value="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" />
		<add key="Gmail_RefreshToken" value="1//0ec_9ACb76bdlCgYIARAAGA4SNwF-L9IrncVBSZ1L32EaP8pyvIa4fP1bRgmaiYI6qfG11vwhrOoxrSwmRlQxHl7HDu4mJrR9X0s" />
		<add key="Gmail_EmailFrom" value="rescates@colitasfelicesdiana.com" />
	</appSettings>
	<system.web>
		<!--═══════════════════════════════════════════════════════ 
	   CONFIGURACIÓN DE SESIÓN                                 
	   ═══════════════════════════════════════════════════════-->
		<sessionState mode="InProc" timeout="30" cookieless="false" cookieName="ColititasFelices_Session" />
		<!--
        mode="InProc"       → Sesión en memoria RAM del servidor (recomendado)
        timeout="30"        → Expira después de 30 minutos de inactividad
        cookieless="false"  → Usa cookies (más seguro)
        cookieName="..."    → Nombre personalizado de la cookie
    -->
		<compilation debug="true" targetFramework="4.8.1" />
		<httpRuntime targetFramework="4.8.1" maxRequestLength="10240" executionTimeout="600" requestValidationMode="2.0" />

		<customErrors mode="RemoteOnly" defaultRedirect="~/error.aspx">
			<error statusCode="404" redirect="~/principal" />
			<error statusCode="500" redirect="~/error.aspx" />
		</customErrors>

		<!-- PRODUCCIÓN: Ocultar detalles de errores -->
		<!--<customErrors mode="On" defaultRedirect="~/error.aspx" />-->

		<!-- ═══════════════════════════════════════════════════════ -->
		<!-- SEGURIDAD DE COOKIES                                    -->
		<!-- ═══════════════════════════════════════════════════════ -->
		<httpCookies httpOnlyCookies="true" requireSSL="false" />
		<!--
        httpOnlyCookies="true"  → JavaScript no puede leer las cookies (más seguro)
        requireSSL="false"      → Cambiar a "true" cuando tengas HTTPS
    -->
	</system.web>
	<system.webServer>
		<!-- ========== MÓDULOS: Activa el sistema de rutas ========== -->
		<modules>
			<remove name="UrlRoutingModule-4.0" />
			<add name="UrlRoutingModule-4.0"
				 type="System.Web.Routing.UrlRoutingModule"
				 preCondition="managedHandler" />
		</modules>

		<!-- ========== HANDLERS: Procesa las rutas amigables ========== -->
		<handlers>
			<remove name="UrlRoutingHandler"/>
			<add name="UrlRoutingHandler"
				 preCondition="integratedMode"
				 verb="*"
				 path="UrlRouting.axd" />
		</handlers>

		<!-- La ruta raíz ("") en RouteConfig se encarga de esto -->

		<!-- ========== REDIRECCIÓN 404 a la página principal ========== -->
		<httpErrors errorMode="Detailed" existingResponse="PassThrough">
			<!-- Comentar o eliminar las reglas personalizadas durante desarrollo -->
			<!--
				<remove statusCode="404" />
				<error statusCode="404" path="/principal" responseMode="Redirect" />
			-->
		</httpErrors>

		<!-- ========== COMPRESIÓN: Mejora velocidad ========== -->
		<urlCompression doStaticCompression="true" doDynamicCompression="true" />

	</system.webServer>
	<runtime>
		<assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
			<dependentAssembly>
				<assemblyIdentity name="System.Memory" publicKeyToken="cc7b13ffcd2ddd51" culture="neutral" />
				<bindingRedirect oldVersion="0.0.0.0-4.0.2.0" newVersion="4.0.2.0" />
			</dependentAssembly>
			<dependentAssembly>
				<assemblyIdentity name="System.Buffers" publicKeyToken="cc7b13ffcd2ddd51" culture="neutral" />
				<bindingRedirect oldVersion="0.0.0.0-4.0.4.0" newVersion="4.0.4.0" />
			</dependentAssembly>
			<dependentAssembly>
				<assemblyIdentity name="System.Runtime.CompilerServices.Unsafe" publicKeyToken="b03f5f7f11d50a3a" culture="neutral" />
				<bindingRedirect oldVersion="0.0.0.0-4.0.4.1" newVersion="4.0.4.1" />
			</dependentAssembly>
		</assemblyBinding>
	</runtime>
	<system.codedom>
		<compilers>
			<compiler language="c#;cs;csharp" extension=".cs" warningLevel="4" compilerOptions="/langversion:default /nowarn:1659;1699;1701;612;618" type="Microsoft.CodeDom.Providers.DotNetCompilerPlatform.CSharpCodeProvider, Microsoft.CodeDom.Providers.DotNetCompilerPlatform, Version=4.1.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" />
			<compiler language="vb;vbs;visualbasic;vbscript" extension=".vb" warningLevel="4" compilerOptions="/langversion:default /nowarn:41008,40000,40008 /define:_MYTYPE=\&quot;Web\&quot; /optionInfer+" type="Microsoft.CodeDom.Providers.DotNetCompilerPlatform.VBCodeProvider, Microsoft.CodeDom.Providers.DotNetCompilerPlatform, Version=4.1.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" />
		</compilers>
	</system.codedom>
</configuration>